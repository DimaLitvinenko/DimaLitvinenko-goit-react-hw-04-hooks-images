(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,a,t){e.exports={imageGallery:"ImageGallery_imageGallery__2A67i",imageGalleryItem:"ImageGallery_imageGalleryItem__3ff7S",imageGalleryItem__image:"ImageGallery_imageGalleryItem__image__15m2O"}},21:function(e,a,t){e.exports={overlay:"Modal_overlay__1ruQ5",modal:"Modal_modal__3GQZW",textColor:"Modal_textColor__2H-u9",animateGlow:"Modal_animateGlow__3cOnf"}},22:function(e,a,t){e.exports={button:"Button_button__W3qV6",button__icon:"Button_button__icon__2wA3U"}},35:function(e,a,t){},4:function(e,a,t){e.exports={searchHeader:"Searchbar_searchHeader__21mvE",pixabay__logo_link:"Searchbar_pixabay__logo_link__2BxFC","pixabay__logo_link-spin":"Searchbar_pixabay__logo_link-spin__1NQBl",pixabay__logo_img:"Searchbar_pixabay__logo_img__2pI_P",searchForm:"Searchbar_searchForm__3fG6V",searchForm__input:"Searchbar_searchForm__input__3or9K",placeholder:"Searchbar_placeholder__2BCZl",searchForm__button:"Searchbar_searchForm__button__2JWLd",searchForm__button_label:"Searchbar_searchForm__button_label__hy_9J"}},67:function(e,a,t){"use strict";t.r(a);var r=t(1),c=t.n(r),n=t(6),o=t.n(n),s=(t(35),t(19)),i=t.n(s),l=t(23),_=t(27),u=t(5),b=t(9),m=t.n(b),p=t(20),j=t(8),h=(t(47),t(28)),d=t.n(h),g=t(21),O=t.n(g),x=t(2);function f(e){var a=e.onClose,t=e.children;Object(r.useEffect)((function(){return window.addEventListener("keydown",c),function(){}}),[]);var c=function(e){"Escape"===e.code&&a()};return Object(n.createPortal)(Object(x.jsx)("div",{className:O.a.overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(x.jsx)("div",{className:O.a.modal,children:t})}),document.querySelector("#modal-root"))}var y=t(29),v=t(4),S=t.n(v);function N(e){var a=e.onSubmit,t=Object(r.useState)(""),c=Object(u.a)(t,2),n=c[0],o=c[1];return Object(x.jsxs)("header",{id:"header",className:S.a.searchHeader,children:[Object(x.jsx)("a",{className:S.a.pixabay__logo_link,href:"https://pixabay.com/",children:Object(x.jsx)("img",{className:S.a.pixabay__logo_img,src:"https://pixabay.com/static/img/public/medium_rectangle_a.png",alt:"Pixabay-service-logo"})}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==n.trim()?(a(n),o("")):j.b.error("The input field shouldn't be empty!",{position:"top-left",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})},className:S.a.searchForm,children:[Object(x.jsx)("input",{className:S.a.searchForm__input,id:"input",type:"text",autoComplete:"off",autoFocus:!0,value:n,onChange:function(e){var a=e.currentTarget;o(a.value.toLowerCase())},placeholder:" "}),Object(x.jsx)("div",{className:S.a.cut}),Object(x.jsx)("label",{className:S.a.placeholder,htmlFor:"input",children:"Enter search image name"}),Object(x.jsxs)("button",{type:"submit",className:S.a.searchForm__button,children:[Object(x.jsx)("span",{className:S.a.searchForm__button_label,children:"Search"}),Object(x.jsx)(y.a,{})]})]}),Object(x.jsx)("a",{className:S.a.pixabay__logo_link,href:"https://pixabay.com/",children:Object(x.jsx)("img",{className:S.a.pixabay__logo_img,src:"https://pixabay.com/static/img/public/medium_rectangle_a.png",alt:"Pixabay-service-logo"})})]})}var k=t(13),F=t.n(k);function w(e){var a=e.images,t=e.onOpenModal;return Object(x.jsx)("ul",{className:F.a.imageGallery,children:a.map((function(e){return Object(x.jsx)("li",{onClick:function(){t(e)},className:F.a.imageGalleryItem,children:Object(x.jsx)("img",{"max-height":260,className:F.a.imageGalleryItem__image,src:e.webformatURL,alt:e.tags})},e.id)}))})}var C=t(22),G=t.n(C),I=t(30);function M(e){var a=e.onLoadMore;return Object(x.jsxs)("button",{onClick:a,type:"button",className:G.a.button,children:["Load more",Object(x.jsx)("span",{className:G.a.button__icon,children:Object(x.jsx)(I.a,{})})]})}var B=t(3),E=t.n(B);function L(e,a){var t=new URLSearchParams({key:"24448701-489f6770e4002eca234b0d01a",orientation:"horizontal",image_type:"photo",q:e,page:a,per_page:12});return fetch("".concat("https://pixabay.com/api/","?").concat(t))}function A(){var e=Object(r.useState)(""),a=Object(u.a)(e,2),t=a[0],c=a[1],n=Object(r.useState)(!1),o=Object(u.a)(n,2),s=o[0],b=o[1],h=Object(r.useState)(1),g=Object(u.a)(h,2),O=g[0],y=g[1],v=Object(r.useState)([]),S=Object(u.a)(v,2),k=S[0],F=S[1],C=Object(r.useState)(null),G=Object(u.a)(C,2),I=G[0],B=G[1],E=Object(r.useState)({}),A=Object(u.a)(E,2),T=A[0],P=A[1],H=Object(r.useState)("idle"),q=Object(u.a)(H,2),R=q[0],J=q[1];Object(r.useEffect)((function(){t&&(J("pending"),y(1),F([]),Q(),p.animateScroll.scrollToBottom())}),[t]),Object(r.useEffect)((function(){t&&1!==O&&(J("pending"),Q(),p.animateScroll.scrollToBottom())}),[O]);var Q=function(){var e=Object(_.a)(i.a.mark((function e(){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(t,O);case 3:if(!(a=e.sent).ok){e.next=12;break}return e.next=7,a.json();case 7:r=e.sent,F((function(e){return[].concat(Object(l.a)(e),Object(l.a)(r.hits))})),J("resolved"),e.next=13;break;case 12:return e.abrupt("return",Promise.reject(new Error("".concat(t," - matches not detected!"))));case 13:e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),B(e.t0),J("rejected"),j.b.error("The input field shouldn`t empty!");case 20:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),U=function(e){b(!s),P(e)};return Object(x.jsxs)("div",{className:m.a.app,children:[Object(x.jsx)(N,{onSubmit:c}),"idle"===R&&Object(x.jsxs)("h1",{className:m.a.app__title,children:["Best photos still",Object(x.jsx)("span",{className:m.a.title__after,children:" waiting for you"})]}),"rejected"===R&&Object(x.jsx)("h1",{children:I.message}),"resolved"===R&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(w,{images:k,onOpenModal:U}),0!==k.length&&Object(x.jsx)(M,{onLoadMore:function(){return y((function(e){return e+1}))}}),0===k.length&&Object(x.jsxs)("div",{children:[t," - not detected"]})]}),"pending"===R&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(w,{images:k,onOpenModal:U}),Object(x.jsx)(d.a,{className:m.a.app__loader,type:"MutatingDots",color:"#00FF55",secondaryColor:"#FF9900",height:80,width:80})]}),s&&Object(x.jsx)(f,{onClose:U,children:Object(x.jsx)("img",{src:T.largeImageURL,alt:T.tags})}),Object(x.jsx)(j.a,{position:"top-left",autoClose:3e3,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0})]})}L.propTypes={searchQuery:E.a.string,page:E.a.number},o.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(A,{})}),document.getElementById("root"))},9:function(e,a,t){e.exports={app:"App_app__1RNc8",app__title:"App_app__title__2wEdA",title__after:"App_title__after__3hR5q",app__loader:"App_app__loader__3lpar",modal__img:"App_modal__img__3qKbK"}}},[[67,1,2]]]);
//# sourceMappingURL=main.c4d13c3b.chunk.js.map