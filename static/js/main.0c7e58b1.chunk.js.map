{"version":3,"sources":["App.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Modal/Modal.module.scss","components/Button/Button.module.scss","components/Searchbar/Searchbar.module.scss","components/Modal/Modal.js","components/Searchbar/Seachbar.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/pixabayApi.js","App.js","index.js"],"names":["module","exports","Modal","handleKeyDown","event","code","props","onClose","handleOverlayClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","style","overlay","onClick","modal","children","document","querySelector","Component","Searchbar","state","searchQuery","handleSearchQueryChange","setState","value","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","id","searchHeader","pixabay__logo_link","href","pixabay__logo_img","src","alt","searchForm","searchForm__input","type","autoComplete","autoFocus","onChange","placeholder","cut","htmlFor","searchForm__button","searchForm__button_label","ImageGallery","images","onOpenModal","imageGallery","map","image","imageGalleryItem","imageGalleryItem__image","webformatURL","tags","LoadMoreButton","onLoadMore","button","button__icon","BASE_URL","API_KEY","fetchImages","page","a","searchParams","URLSearchParams","key","image_type","orientation","q","per_page","axios","get","then","response","data","hits","propTypes","PropTypes","string","number","App","showModal","status","currentImage","toggleModal","incrementPage","prevState","handleSearchbarFormSubmit","scrollToBottom","scroll","duration","delay","isDynamic","ignoreCancelEvents","smooth","prevProps","PixabayServiceApi","articles","catch","app","app__title","title__after","message","length","app__loader","color","secondaryColor","height","width","largeImageURL","newestOnTop","pauseOnFocusLoss","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,IAAM,iBAAiB,WAAa,wBAAwB,aAAe,0BAA0B,YAAc,yBAAyB,WAAa,0B,mBCA3KD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,iBAAmB,uCAAuC,wBAA0B,gD,mBCAxJD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,qBAAqB,UAAY,yBAAyB,YAAc,6B,mBCAnID,EAAOC,QAAU,CAAC,OAAS,uBAAuB,aAAe,+B,uCCAjED,EAAOC,QAAU,CAAC,aAAe,gCAAgC,mBAAqB,sCAAsC,0BAA0B,2CAA2C,kBAAoB,qCAAqC,WAAa,8BAA8B,kBAAoB,qCAAqC,YAAc,+BAA+B,mBAAqB,sCAAsC,yBAA2B,8C,0MCG5cC,E,4MASlBC,cAAgB,SAAAC,GACE,WAAfA,EAAMC,MAAqB,EAAKC,MAAMC,W,EAGzCC,mBAAqB,SAAAJ,GAClBA,EAAMK,gBAAkBL,EAAMM,QAAU,EAAKJ,MAAMC,W,uDAbtD,WACGI,OAAOC,iBAAiB,UAAWC,KAAKV,iB,kCAG3C,WACGQ,OAAOG,oBAAoB,UAAWD,KAAKV,iB,oBAW9C,WACG,OAAOY,uBACJ,qBAAKC,UAAWC,IAAMC,QAASC,QAASN,KAAKL,mBAA7C,SACG,qBAAKQ,UAAWC,IAAMG,MAAtB,SAA8BP,KAAKP,MAAMe,aAE5CC,SAASC,cAAc,oB,GAtBGC,a,wBCEdC,E,4MAGlBC,MAAQ,CAAEC,YAAa,I,EAEvBC,wBAA0B,SAAAxB,GACvB,EAAKyB,SAAS,CAAEF,YAAavB,EAAMK,cAAcqB,MAAMC,iB,EAG1DC,aAAe,SAAA5B,GACZA,EAAM6B,iBAEgC,KAAlC,EAAKP,MAAMC,YAAYO,QACxB,EAAK5B,MAAM6B,SAAS,EAAKT,MAAMC,aAC/B,EAAKE,SAAS,CAAEF,YAAa,MAE7BS,IAAMC,MAAN,kDAAqD,CAClDC,SAAU,WACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,K,4CAInB,WACG,OACG,yBAAQC,GAAG,SAAS9B,UAAWC,IAAM8B,aAArC,UACG,mBAAG/B,UAAWC,IAAM+B,mBAAoBC,KAAK,uBAA7C,SACG,qBACGjC,UAAWC,IAAMiC,kBACjBC,IAAI,+DACJC,IAAI,cAGV,uBAAMjB,SAAUtB,KAAKmB,aAAchB,UAAWC,IAAMoC,WAApD,UACG,uBACGrC,UAAWC,IAAMqC,kBACjBR,GAAG,QACHS,KAAK,OACLC,aAAa,MACbC,WAAS,EACT3B,MAAOjB,KAAKa,MAAMC,YAClB+B,SAAU7C,KAAKe,wBACf+B,YAAY,MAEf,qBAAK3C,UAAWC,IAAM2C,MACtB,uBAAO5C,UAAWC,IAAM0C,YAAaE,QAAQ,QAA7C,qCAGA,yBAAQN,KAAK,SAASvC,UAAWC,IAAM6C,mBAAvC,UACG,sBAAM9C,UAAWC,IAAM8C,yBAAvB,oBACA,cAAC,IAAD,UAGN,mBAAG/C,UAAWC,IAAM+B,mBAAoBC,KAAK,uBAA7C,SACG,qBACGjC,UAAWC,IAAMiC,kBACjBC,IAAI,+DACJC,IAAI,qB,GA7DiB5B,a,iBCJxB,SAASwC,EAAT,GAAgD,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,YAC5C,OACG,oBAAIlD,UAAWC,IAAMkD,aAArB,SACIF,EAAOG,KAAI,SAAAC,GAAK,OACd,oBAEGlD,QAAS,WACN+C,EAAYG,IAEfrD,UAAWC,IAAMqD,iBALpB,SAOG,qBACG,aAAY,IACZtD,UAAWC,IAAMsD,wBACjBpB,IAAKkB,EAAMG,aACXpB,IAAKiB,EAAMI,QAVTJ,EAAMvB,S,6BCLX,SAAS4B,EAAT,GAAyC,IAAfC,EAAc,EAAdA,WACtC,OACG,yBAAQxD,QAASwD,EAAYpB,KAAK,SAASvC,UAAWC,IAAM2D,OAA5D,sBAEG,sBAAM5D,UAAWC,IAAM4D,aAAvB,SACG,cAAC,IAAD,S,8DCJNC,EAAW,2BACXC,EAAU,qCAED,SAAeC,EAA9B,oC,4CAAe,WAA2BrD,EAAasD,GAAxC,eAAAC,EAAA,6DACNC,EAAe,IAAIC,gBAAgB,CACtCC,IAAKN,EACLO,WAAY,QACZC,YAAa,aACbC,EAAG7D,EACHsD,KAAMA,EACNQ,SAAU,KAPD,SAUCC,IAAMC,IAAN,UAAab,EAAb,YAAyBK,IAAgBS,MAAK,SAAAC,GACxD,OAAOA,EAASC,KAAKC,QAXZ,oF,sBAeff,EAAYgB,UAAY,CACrBrE,YAAasE,IAAUC,OACvBjB,KAAMgB,IAAUE,Q,ICXEC,E,4MAGlB1E,MAAQ,CACLC,YAAa,GACb0E,WAAW,EACXpB,KAAM,EACNhB,OAAQ,GACR5B,MAAO,KACPiE,OAAQ,OACRC,aAAc,I,EAsCjBC,YAAc,SAAApG,GACX,EAAKyB,UAAS,kBAAoB,CAC/BwE,WADW,EAAGA,UAEdE,aAAcnG,O,EAIpBqG,cAAgB,WACb,EAAK5E,UAAS,SAAA6E,GAAS,MAAK,CACzBzB,KAAMyB,EAAUzB,KAAO,O,EAI7B0B,0BAA4B,SAAAhF,GACzB,EAAKE,SAAS,CAAEF,iB,EAGnBiF,eAAiB,WACdC,gBAAOD,eAAe,CACnBE,SAAU,IACVC,MAAO,IACPC,WAAW,EACXC,oBAAoB,EACpBC,QAAQ,K,wDA1Dd,SAAmBC,EAAWT,GAAY,IAAD,OACtC,EAA8B7F,KAAKa,MAA3BC,EAAR,EAAQA,YAAasD,EAArB,EAAqBA,KAEjByB,EAAU/E,cAAgBA,IAC3Bd,KAAKgB,SAAS,CAAEyE,OAAQ,UAAWrB,KAAM,IAEzCmC,EAAkBzF,GACdiE,MAAK,SAAAyB,GAAQ,OACX,EAAKxF,SAAS,CACXoC,OAAQoD,EACRf,OAAQ,gBAGbgB,OAAM,SAAAjF,GAAK,OAAI,EAAKR,SAAS,CAAEQ,QAAOiE,OAAQ,gBAClDO,gBAAOD,kBAGNF,EAAUzB,OAASA,IACpBpE,KAAKgB,SAAS,CAAEyE,OAAQ,YAExBc,EAAkBzF,EAAasD,GAC3BW,MAAK,SAAAyB,GAAQ,OACX,EAAKxF,UAAS,SAAA6E,GAAS,MAAK,CACzBzC,OAAO,GAAD,mBAAMyC,EAAUzC,QAAhB,YAA2BoD,IACjCf,OAAQ,kBAGbgB,OAAM,SAAAjF,GACJ,EAAKR,SAAS,CAAEQ,QAAOiE,OAAQ,aAC/BlE,IAAMC,MAAN,0BAA+BV,EAA/B,iCAENkF,gBAAOD,oB,oBA+Bb,WACG,MAA6D/F,KAAKa,MAA1DuC,EAAR,EAAQA,OAAQ5B,EAAhB,EAAgBA,MAAOiE,EAAvB,EAAuBA,OAAQC,EAA/B,EAA+BA,aAAc5E,EAA7C,EAA6CA,YAE7C,OACG,sBAAKX,UAAWC,IAAMsG,IAAtB,UACG,cAAC,EAAD,CAAWpF,SAAUtB,KAAK8F,4BACd,SAAXL,GACE,qBAAItF,UAAWC,IAAMuG,WAArB,8BAEG,sBAAMxG,UAAWC,IAAMwG,aAAvB,iCAIM,aAAXnB,GAAyB,6BAAKjE,EAAMqF,UAEzB,aAAXpB,GACE,qCACG,cAACtC,EAAD,CACGC,OAAQA,EACRC,YAAarD,KAAK2F,cAEF,IAAlBvC,EAAO0D,QACL,cAAC,EAAD,CAAQhD,WAAY9D,KAAK4F,gBAET,IAAlBxC,EAAO0D,QACL,mDAAsBhG,EAAtB,qBAKG,YAAX2E,GACE,qCACG,cAACtC,EAAD,CACGC,OAAQA,EACRC,YAAarD,KAAK2F,cAErB,cAAC,IAAD,CACGxF,UAAWC,IAAM2G,YACjBrE,KAAK,eACLsE,MAAM,UACNC,eAAe,UACfC,OAAQ,GACRC,MAAO,QAKfnH,KAAKa,MAAM2E,WACT,cAAC,EAAD,CAAO9F,QAASM,KAAK2F,YAArB,SACG,qBACGrD,IAAKoD,EAAa0B,cAClB7E,IAAKmD,EAAa9B,SAI3B,cAAC,IAAD,CACGnC,SAAS,WACTC,UAAW,IACX2F,aAAa,EACbzF,cAAY,EACZ0F,kBAAgB,EAChBzF,cAAY,W,GAxIMlB,aCPjC4G,IAASC,OACN,cAAC,IAAMC,WAAP,UACG,cAAC,EAAD,MAEHhH,SAASiH,eAAe,W","file":"static/js/main.0c7e58b1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1UdVf\",\"app__title\":\"App_app__title__vZ8iH\",\"title__after\":\"App_title__after__fBZ-r\",\"app__loader\":\"App_app__loader__LX2jX\",\"modal__img\":\"App_modal__img__3NSoD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1QZCE\",\"imageGalleryItem\":\"ImageGallery_imageGalleryItem__13x6O\",\"imageGalleryItem__image\":\"ImageGallery_imageGalleryItem__image__1LY7K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1da2-\",\"modal\":\"Modal_modal__4rV0S\",\"textColor\":\"Modal_textColor__9ouVB\",\"animateGlow\":\"Modal_animateGlow__jJMAE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3a2-p\",\"button__icon\":\"Button_button__icon__DX0kh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchHeader\":\"Searchbar_searchHeader__Kghye\",\"pixabay__logo_link\":\"Searchbar_pixabay__logo_link__2XgFm\",\"pixabay__logo_link-spin\":\"Searchbar_pixabay__logo_link-spin__1rQZJ\",\"pixabay__logo_img\":\"Searchbar_pixabay__logo_img__1sIa0\",\"searchForm\":\"Searchbar_searchForm__1RuRX\",\"searchForm__input\":\"Searchbar_searchForm__input__3vb2F\",\"placeholder\":\"Searchbar_placeholder__1QkCg\",\"searchForm__button\":\"Searchbar_searchForm__button__3ij5h\",\"searchForm__button_label\":\"Searchbar_searchForm__button_label__2ObV1\"};","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport style from './Modal.module.scss';\n\nexport default class Modal extends Component {\n   componentDidMount() {\n      window.addEventListener('keydown', this.handleKeyDown);\n   }\n\n   componentWillUnmount() {\n      window.removeEventListener('keydown', this.handleKeyDown);\n   }\n\n   handleKeyDown = event => {\n      event.code === 'Escape' && this.props.onClose();\n   };\n\n   handleOverlayClick = event => {\n      event.currentTarget === event.target && this.props.onClose();\n   };\n\n   render() {\n      return createPortal(\n         <div className={style.overlay} onClick={this.handleOverlayClick}>\n            <div className={style.modal}>{this.props.children}</div>\n         </div>,\n         document.querySelector('#modal-root'),\n      );\n   }\n}\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport { ImSearch } from 'react-icons/im';\nimport style from './Searchbar.module.scss';\n\nexport default class Searchbar extends Component {\n   static propTypes = { searchQuery: PropTypes.string };\n\n   state = { searchQuery: '' };\n\n   handleSearchQueryChange = event => {\n      this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\n   };\n\n   handleSubmit = event => {\n      event.preventDefault();\n\n      if (this.state.searchQuery.trim() !== '') {\n         this.props.onSubmit(this.state.searchQuery);\n         this.setState({ searchQuery: '' });\n      } else\n         toast.error(`The input field must not be empty! ðŸ¦„`, {\n            position: 'top-left',\n            autoClose: 4000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n         });\n   };\n\n   render() {\n      return (\n         <header id=\"header\" className={style.searchHeader}>\n            <a className={style.pixabay__logo_link} href=\"https://pixabay.com/\">\n               <img\n                  className={style.pixabay__logo_img}\n                  src=\"https://pixabay.com/static/img/public/medium_rectangle_a.png\"\n                  alt=\"Pixabay\"\n               />\n            </a>\n            <form onSubmit={this.handleSubmit} className={style.searchForm}>\n               <input\n                  className={style.searchForm__input}\n                  id=\"input\"\n                  type=\"text\"\n                  autoComplete=\"off\"\n                  autoFocus\n                  value={this.state.searchQuery}\n                  onChange={this.handleSearchQueryChange}\n                  placeholder=\" \"\n               />\n               <div className={style.cut}></div>\n               <label className={style.placeholder} htmlFor=\"input\">\n                  Enter search image name\n               </label>\n               <button type=\"submit\" className={style.searchForm__button}>\n                  <span className={style.searchForm__button_label}>Search</span>\n                  <ImSearch />\n               </button>\n            </form>\n            <a className={style.pixabay__logo_link} href=\"https://pixabay.com/\">\n               <img\n                  className={style.pixabay__logo_img}\n                  src=\"https://pixabay.com/static/img/public/medium_rectangle_a.png\"\n                  alt=\"Pixabay\"\n               />\n            </a>\n         </header>\n      );\n   }\n}\n","import style from './ImageGallery.module.scss';\n\nexport default function ImageGallery({ images, onOpenModal }) {\n   return (\n      <ul className={style.imageGallery}>\n         {images.map(image => (\n            <li\n               key={image.id}\n               onClick={() => {\n                  onOpenModal(image);\n               }}\n               className={style.imageGalleryItem}\n            >\n               <img\n                  max-height={260}\n                  className={style.imageGalleryItem__image}\n                  src={image.webformatURL}\n                  alt={image.tags}\n               />\n            </li>\n         ))}\n      </ul>\n   );\n}\n","import style from './Button.module.scss';\nimport { FaDownload } from 'react-icons/fa';\nexport default function LoadMoreButton({ onLoadMore }) {\n   return (\n      <button onClick={onLoadMore} type=\"button\" className={style.button}>\n         Load more\n         <span className={style.button__icon}>\n            <FaDownload />\n         </span>\n      </button>\n   );\n}\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '24448701-489f6770e4002eca234b0d01a';\n\nexport default async function fetchImages(searchQuery, page) {\n   const searchParams = new URLSearchParams({\n      key: API_KEY,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      q: searchQuery,\n      page: page,\n      per_page: 12,\n   });\n\n   return await axios.get(`${BASE_URL}?${searchParams}`).then(response => {\n      return response.data.hits;\n   });\n}\n\nfetchImages.propTypes = {\n   searchQuery: PropTypes.string,\n   page: PropTypes.number,\n};\n","import style from './App.module.scss';\nimport { Component } from 'react';\nimport { animateScroll as scroll } from 'react-scroll';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal/Modal';\nimport Searchbar from './components/Searchbar/Seachbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport PixabayServiceApi from './services/pixabayApi';\n\nexport default class App extends Component {\n   static propTypes = {};\n\n   state = {\n      searchQuery: '',\n      showModal: false,\n      page: 1,\n      images: [],\n      error: null,\n      status: 'idle',\n      currentImage: {},\n   };\n\n   componentDidUpdate(prevProps, prevState) {\n      const { searchQuery, page } = this.state;\n\n      if (prevState.searchQuery !== searchQuery) {\n         this.setState({ status: 'pending', page: 1 });\n\n         PixabayServiceApi(searchQuery)\n            .then(articles =>\n               this.setState({\n                  images: articles,\n                  status: 'resolved',\n               }),\n            )\n            .catch(error => this.setState({ error, status: 'rejected' }));\n         scroll.scrollToBottom();\n      }\n\n      if (prevState.page !== page) {\n         this.setState({ status: 'pending' });\n\n         PixabayServiceApi(searchQuery, page)\n            .then(articles =>\n               this.setState(prevState => ({\n                  images: [...prevState.images, ...articles],\n                  status: 'resolved',\n               })),\n            )\n            .catch(error => {\n               this.setState({ error, status: 'rejected' });\n               toast.error(`No matches for: ${searchQuery} - not found ðŸ¦„`);\n            });\n         scroll.scrollToBottom();\n      }\n   }\n\n   toggleModal = event => {\n      this.setState(({ showModal }) => ({\n         showModal: !showModal,\n         currentImage: event,\n      }));\n   };\n\n   incrementPage = () => {\n      this.setState(prevState => ({\n         page: prevState.page + 1,\n      }));\n   };\n\n   handleSearchbarFormSubmit = searchQuery => {\n      this.setState({ searchQuery });\n   };\n\n   scrollToBottom = () => {\n      scroll.scrollToBottom({\n         duration: 500,\n         delay: 1000,\n         isDynamic: true,\n         ignoreCancelEvents: false,\n         smooth: true,\n      });\n   };\n\n   render() {\n      const { images, error, status, currentImage, searchQuery } = this.state;\n\n      return (\n         <div className={style.app}>\n            <Searchbar onSubmit={this.handleSearchbarFormSubmit} />\n            {status === 'idle' && (\n               <h1 className={style.app__title}>\n                  Best photos still\n                  <span className={style.title__after}> waiting for you</span>\n               </h1>\n            )}\n\n            {status === 'rejected' && <h1>{error.message}</h1>}\n\n            {status === 'resolved' && (\n               <>\n                  <ImageGallery\n                     images={images}\n                     onOpenModal={this.toggleModal}\n                  />\n                  {images.length !== 0 && (\n                     <Button onLoadMore={this.incrementPage} />\n                  )}\n                  {images.length === 0 && (\n                     <div>No matches for: {searchQuery} - not found</div>\n                  )}\n               </>\n            )}\n\n            {status === 'pending' && (\n               <>\n                  <ImageGallery\n                     images={images}\n                     onOpenModal={this.toggleModal}\n                  />\n                  <Loader\n                     className={style.app__loader}\n                     type=\"MutatingDots\"\n                     color=\"#00FF55\"\n                     secondaryColor=\"#FF9900\"\n                     height={80}\n                     width={80}\n                  />\n               </>\n            )}\n\n            {this.state.showModal && (\n               <Modal onClose={this.toggleModal}>\n                  <img\n                     src={currentImage.largeImageURL}\n                     alt={currentImage.tags}\n                  />\n               </Modal>\n            )}\n            <ToastContainer\n               position=\"top-left\"\n               autoClose={3000}\n               newestOnTop={true}\n               closeOnClick\n               pauseOnFocusLoss\n               pauseOnHover\n            />\n         </div>\n      );\n   }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(\n   <React.StrictMode>\n      <App />\n   </React.StrictMode>,\n   document.getElementById('root'),\n);\n"],"sourceRoot":""}